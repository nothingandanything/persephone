function deleteCart (DrinkID) {
	$.ajax({
		type: 'POST',
		url: '${pageContext.request.contextPath}/deleteCart',
		data: {"DrinkID": DrinkID},
		statusCode: {
			404: function() {  
				alert('提交地址url未发现'); 
			}  
		}
	});
}

function changeCart (DrinkID, Number, flag) {
	$.ajax({
		type: 'POST',
		url: '${pageContext.request.contextPath}/changeCart',
		data: {"DrinkID": DrinkID, "Number": Number, "flag": flag},
		dataType: "json",
		statusCode: {
			404: function() {  
				alert('提交地址url未发现'); 
			}  
		},
		success: function (data) {
			$('#CartItemList').empty();
			var toltalPrice = 0;
			for (var i = 0; i < data.length; i++) {
				alert(i + ' ' + data.length);
				$('#CartItemList').append('<div class="cart-single-item">\n');
				alert(1);
				$('#CartItemList').append('	<button type="button" class="close" id="' + data[i].DrinkID + '" onclick="deleteCart(this.id)"><i class="flaticon-cross"></i></button>\n');
				alert(2);
				$('#CartItemList').append('	<div class="product-img">');
				alert(3);
				$('#CartItemList').append('		<img src="${pageContext.request.contextPath}/client/img/' + data[i].Drink.PicAddres + '" alt="Product Image">\n');
				alert(4);
				$('#CartItemList').append('	</div>\n');
				alert(5);
				$('#CartItemList').append('	<h6 class="product-name">' + data[i].Drink.DrinkName + ' (' + data[i].DrinkSweet + '·' + data[i].DrinkTemp + '·' + data[i].DrinkSpec + ')</h6>\n');
				alert(6);
				$('#CartItemList').append('	<div class="number-input">\n');
				alert(7);
				$('#CartItemList').append('		<button class="minus" onclick="changeCart(\'' + data[i].DrinkID + '\', \'' + data[i].Number + '\', \'minus\')"></button>\n');
				alert(8);
				$('#CartItemList').append('		<input class="quantity" min="1" max="99" name="quantity" value="' + data[i].Number + '" type="number">\n');
				alert(9);
				$('#CartItemList').append('		<button class="plus" onclick="changeCart(\'' + data[i].DrinkID + '\', \'' + data[i].Number + '\', \'plus\')"></button>\n');
				alert(10);
				$('#CartItemList').append('	</div>\n');
				alert(11);
				if(data[i].DrinkSpec == '超级杯'){
					$('#CartItemList').append('	<h6 class="product-price">￥' + data[i].Drink.DrinkPrice_Super + '</h6>\n');
					alert(12);
					$('#CartItemList').append('	<h6 class="product-total-price">￥' + (date[i].Number * data[i].Drink.DrinkPrice_Super) + '</h6>\n');
					alert(13);
					totalPrice = totalPrice + date[i].Number * data[i].Drink.DrinkPrice_Super;
				}
				else if(data[i].DrinkSpec == '大杯'){
					$('#CartItemList').append('	<h6 class="product-price">￥' + data[i].Drink.drinkPrice_Big + '</h6>\n');
					alert(12);
					$('#CartItemList').append('	<h6 class="product-total-price">￥' + (date[i].Number * data[i].Drink.drinkPrice_Big) + '</h6>\n');
					alert(13);
					totalPrice = totalPrice + date[i].Number * data[i].Drink.drinkPrice_Big;
				}
				else if(data[i].DrinkSpec == '中杯'){
					$('#CartItemList').append('	<h6 class="product-price">￥' + data[i].Drink.drinkPrice_Medium + '</h6>\n');
					alert(12);
					$('#CartItemList').append('	<h6 class="product-total-price">￥' + (date[i].Number * data[i].Drink.drinkPrice_Medium) + '</h6>\n');
					alert(13);
					totalPrice = totalPrice + date[i].Number * data[i].Drink.drinkPrice_Medium;
				}
				$('#CartItemList').append('</div>\n');
				alert(14);
			}
			$('#totalPrice').html(totalPrice);
		}
	});
}